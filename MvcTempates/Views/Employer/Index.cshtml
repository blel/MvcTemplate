@model IEnumerable<MvcTempates.Models.Employer>
@using MvcTempates.HtmlHelperExtensions
@using PagedList;
@using PagedList.Mvc;



@{
    ViewBag.Title = "Employers";
}

<h2>@ViewBag.Title</h2>

@Html.Table(Model, "Employer")
@Html.PagedListPager((IPagedList)Model, selectedPage => Url.Action("/Paging", new { page = selectedPage }), PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing("#ajaxContent"));

<!-- BLEL:Show table only if model contains any data. -->
@if (Model.Count() > 0){
    using (Ajax.BeginForm("Search", "Employer", null, new AjaxOptions() { UpdateTargetId = "ajaxContent" }, null))
    {
    <table>
        
        <tr>
            <th>
                Max. Records
            </th>
            <th style="text-align:left;">
                <input id="maxRecords" value="100" style="width:50px;"/>
            </th>
            
            <th style="text-align:right;">
                
                <input id="searchField" name="txt" />
                    
            </th>
            <th style="text-align:right;">
                
                <input type="submit" value="Search" />
                
            </th>
        </tr>
        <tr>  
            <td colspan="4">
    <div id="ajaxContent">
        @{Html.RenderPartial("Search");}
        
    </div>

            </td>
        </tr>
    </table> 
    }
}
<p>
    @Html.ActionLink("Create New", "Create",null, new {@class = "button"})
</p>

